(()=>{var e={};e.id=44,e.ids=[44],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6376:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(9638),s(1506),s(5866);var a=s(3191),r=s(8716),i=s(7922),n=s.n(i),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["auth",{children:["invite",{children:["[token]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9638)),"/Users/iongonta/Downloads/taxflow-crm/app/auth/invite/[token]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/iongonta/Downloads/taxflow-crm/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/iongonta/Downloads/taxflow-crm/app/auth/invite/[token]/page.tsx"],x="/auth/invite/[token]/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/auth/invite/[token]/page",pathname:"/auth/invite/[token]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9816:(e,t,s)=>{Promise.resolve().then(s.bind(s,1210))},5029:(e,t,s)=>{Promise.resolve().then(s.bind(s,5999))},3324:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},1210:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(326),r=s(7577),i=s(5047);s(2945);var n=s(5999),l=s(7506),o=s(9669),c=s(361),d=s(1216),x=s(2714);function u({params:e}){let t=(0,i.useRouter)(),[s,u]=(0,r.useState)("loading"),[p,h]=(0,r.useState)(null),[g,f]=(0,r.useState)(""),[j,y]=(0,r.useState)(""),[b,v]=(0,r.useState)(""),[N,w]=(0,r.useState)(!1),[P,k]=(0,r.useState)(!1);async function _(s){if(s.preventDefault(),j.length<8){n.A.error("Parola trebuie sa aiba minim 8 caractere");return}if(j!==b){n.A.error("Parolele nu coincid");return}if(!g.trim()){n.A.error("Introdu numele complet");return}k(!0);try{let s=await fetch("/api/auth/accept-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e.token,email:p.email,password:j,fullName:g.trim(),role:p.role})}),a=await s.json();if(!s.ok)throw Error(a.error||"Eroare necunoscuta");u("success"),setTimeout(()=>t.push("/auth/login"),2500)}catch(e){n.A.error(e.message),k(!1)}}return"loading"===s?a.jsx(m,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(l.Z,{size:32,className:"animate-spin text-[#004437]"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Se verifica invitatia..."})]})}):"invalid"===s?(0,a.jsxs)(m,{children:[a.jsx(o.Z,{size:48,className:"text-red-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Link invalid"}),a.jsx("p",{className:"text-gray-500 text-sm text-center",children:"Acest link de invitatie nu exista sau a fost deja folosit."})]}):"expired"===s?(0,a.jsxs)(m,{children:[a.jsx(o.Z,{size:48,className:"text-amber-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Link expirat"}),a.jsx("p",{className:"text-gray-500 text-sm text-center",children:"Invitatia a expirat (valabila 7 zile). Solicita o noua invitatie."})]}):"used"===s?(0,a.jsxs)(m,{children:[a.jsx(c.Z,{size:48,className:"text-green-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Deja inregistrat"}),a.jsx("p",{className:"text-gray-500 text-sm text-center mb-4",children:"Aceasta invitatie a fost deja acceptata."}),a.jsx("button",{onClick:()=>t.push("/auth/login"),className:"btn-primary mx-auto",children:"Intra in cont"})]}):"success"===s?(0,a.jsxs)(m,{children:[a.jsx(c.Z,{size:48,className:"text-[#00c48c] mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Cont creat cu succes!"}),a.jsx("p",{className:"text-gray-500 text-sm text-center",children:"Te redirectionam catre login..."})]}):a.jsx("div",{className:"min-h-screen bg-[#002e25] flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-sm",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"font-serif text-4xl text-white mb-1",children:"TaxFlow"}),a.jsx("p",{className:"text-xs text-white/40 uppercase tracking-[2px]",children:"CRM"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-8 pt-8 pb-2",children:[a.jsx("div",{className:"inline-flex items-center gap-2 bg-[#e8f0ee] text-[#004437] text-xs font-medium px-3 py-1.5 rounded-full mb-4",children:"Invitatie acceptata"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Creeaza contul tau"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Email: ",a.jsx("span",{className:"font-medium text-gray-700",children:p?.email})]})]}),(0,a.jsxs)("form",{onSubmit:_,className:"px-8 pb-8 space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Nume complet *"}),a.jsx("input",{type:"text",className:"input",placeholder:"Ion Popescu",value:g,onChange:e=>f(e.target.value),required:!0,autoFocus:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Parola * (minim 8 caractere)"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:N?"text":"password",className:"input pr-10",placeholder:"password",value:j,onChange:e=>y(e.target.value),required:!0,minLength:8}),a.jsx("button",{type:"button",onClick:()=>w(!N),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:N?a.jsx(d.Z,{size:16}):a.jsx(x.Z,{size:16})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Confirma parola *"}),a.jsx("input",{type:"password",className:`input ${b&&j!==b?"border-red-400":""}`,placeholder:"password",value:b,onChange:e=>v(e.target.value),required:!0}),b&&j!==b&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Parolele nu coincid"})]}),(0,a.jsxs)("button",{type:"submit",disabled:P||!g||!j||j!==b,className:"w-full bg-[#004437] text-white py-2.5 rounded-lg text-sm font-semibold hover:bg-[#005a47] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-2",children:[P&&a.jsx(l.Z,{size:16,className:"animate-spin"}),P?"Se creeaza contul...":"Creeaza contul"]})]})]})]})})}function m({children:e}){return a.jsx("div",{className:"min-h-screen bg-[#002e25] flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-10 w-full max-w-sm",children:e})})}},2945:(e,t,s)=>{"use strict";s.d(t,{e:()=>r});var a=s(861);function r(){return(0,a.createBrowserClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9669:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1216:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},2714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7506:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9638:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/iongonta/Downloads/taxflow-crm/app/auth/invite/[token]/page.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let l=(0,a.createProxy)(String.raw`/Users/iongonta/Downloads/taxflow-crm/app/auth/invite/[token]/page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var a=s(9510),r=s(1032);s(7272);let i={title:"TaxFlow CRM",description:"Partner \xeen structurare financiarÄƒ"};function n({children:e}){return(0,a.jsxs)("html",{lang:"ro",children:[(0,a.jsxs)("head",{children:[a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&family=DM+Serif+Display:ital@0;1&display=swap",rel:"stylesheet"})]}),(0,a.jsxs)("body",{className:"bg-gray-50 text-gray-900 antialiased",children:[e,a.jsx(r.x7,{position:"bottom-right",richColors:!0})]})]})}},8238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return s}});class s{static get(e,t,s){let a=Reflect.get(e,t,s);return"function"==typeof a?a.bind(e):a}static set(e,t,s,a){return Reflect.set(e,t,s,a)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},7272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,172,334],()=>s(6376));module.exports=a})();